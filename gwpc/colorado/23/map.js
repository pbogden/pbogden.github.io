d3.colorado=function(){function g(e,t,n,r,i){e&&console.log(e);var s=Object.keys(r.objects).map(function(e){return topojson.feature(r,r.objects[e])});d.append("path").datum(topojson.merge(t,t.objects.co.geometries)).attr("class","state").attr("d",f),d.append("path").datum(topojson.mesh(t,t.objects.co,function(e,t){return e!==t})).attr("class","county").attr("d",f),d.selectAll("path.basin").data(s[0].features).enter().append("path").attr("class","basin").attr("d",f),d.selectAll("path.play").data(s[1].features).enter().append("path").attr("class","play").attr("d",f),d.selectAll("path.well").data(n).enter().append("path").attr("class","well").attr("d",function(e){return f(e.location)}),d.selectAll("path.quake").data(i.features.filter(function(e){return+e.properties.mag>=2.5})).enter().append("path").attr("class","quake").attr("d",f),E()}function y(){v.text(b(u.invert(d3.mouse(this)),s().scale*2*Math.PI))}function b(e,t){var n=d3.format("."+Math.floor(Math.log(t)/2)+"f");return(e[1]<0?n(-e[1])+"째S":n(e[1])+"째N")+" "+(e[0]<0?n(-e[0])+"째W":n(e[0])+"째E")}function w(){p.selectAll("image").remove(),E()}function E(){function o(e){return url.indexOf("mqcdn")>-1?"http://otile"+["1","2","3","4"][Math.random()*4|0]+url+e[2]+"/"+e[0]+"/"+e[1]+".png":"http://"+["a","b","c"][Math.random()*3|0]+url+e[2]+"/"+e[0]+"/"+e[1]+".png"}var e=s.scale(l.scale()).translate(l.translate())();d.attr("transform","translate("+l.translate()+")scale("+l.scale()/i+")").style("stroke-width",i/l.scale()),f.pointRadius(4.5*i/l.scale()),d.selectAll("path.quake").attr("d",f),d.selectAll("path.well").attr("d",function(e){return f(e.location)}),u.scale(l.scale()/2/Math.PI).translate(l.translate());var t;m.each(function(e,n){this.checked&&(t=n)}),url=n[t];if(!url)return;var r=p.attr("transform","scale("+e.scale+")translate("+e.translate+")").selectAll("image").data(e,function(e){return e});r.exit().remove(),r.enter().append("image").attr("xlink:href",o).attr("width",1).attr("height",1).attr("x",function(e){return e[0]}).attr("y",function(e){return e[1]})}var e=700,t=500,n=[".tiles.mapbox.com/v3/examples.map-i86nkdio/",".tiles.mapbox.com/v3/brunosan.map-cyglrrfu/",".mqcdn.com/tiles/1.0.0/map/",".mqcdn.com/tiles/1.0.0/sat/",".tile.thunderforest.com/landscape/",".tile.thunderforest.com/cycle/",".tile.stamen.com/terrain-background/",".tile.stamen.com/toner/",".tile.stamen.com/watercolor/",""],r=7,i=1<<8+r,s=d3.geo.tile().size([e,t]),o=d3.geo.mercator().scale(i/2/Math.PI).translate([0,0]),u=d3.geo.mercator(),a=o([-105.55,39]),f=d3.geo.path().projection(o),l=d3.behavior.zoom().scale(o.scale()*2*Math.PI).scaleExtent([i,1<<23]).center([e/2,t/2]).translate([e/2-a[0],t/2-a[1]]).on("zoom",E),c=d3.select("body").append("div").attr("class","map").style("width",e+"px").style("height",t+"px").call(l).on("mousemove",y),h=c.append("svg").style("width",e+"px").style("height",t+"px"),p=h.append("g"),d=h.append("g"),v=c.append("div").attr("class","info"),m=d3.selectAll("#myRadios input").on("change",w);queue().defer(d3.json,"co.json").defer(d3.json,"data.json").defer(d3.json,"shalegasplay.json").defer(d3.json,"quakes.json").await(g)}