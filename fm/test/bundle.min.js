var width=600,height=404;var imgBackground=new Image;var firstArrow=new Image;var secondArrow=new Image;imgBackground.width=width;imgBackground.height=height;firstArrow.width=width;firstArrow.height=height;secondArrow.width=width;secondArrow.height=height;imgBackground.src="background.svg";firstArrow.src="first_arrow.svg";secondArrow.src="second_arrow.svg";var count=0;snapshot(count);delinquency();function snapshot(count,lastOne){if(count===0)d3.select("body").append(function(d){return firstArrow});if(count===0)d3.select("body").append(function(d){return imgBackground});if(lastOne)d3.select("body").append(function(d){return secondArrow})}function delinquency(){var width=456,height=285,radius=3;var x0=-6.5,y0=22;var data=[[70.9,38.1],[121.4,76],[171.8,97.8],[222.2,121.5],[272.6,156.3],[323,175],[373.4,188],[423.8,201.4]];data=data.map(function(d){return[d[0]+x0,d[1]+y0]});var svg=d3.select("svg").attr("id","delinquency").attr("viewBox","0, 0, "+width+", "+height).attr("preserveAspectRatio","xMinYMid").style("width","600px").style("height","404px");var circle=svg.selectAll("circle").data(data).enter().append("circle").style("fill","rgb(0, 125, 164)").attr("r",radius).attr("cx",function(d){return d[0]}).attr("cy",function(d){return d[1]}).style("visibility","hidden");var path=svg.append("path").datum(data).attr("d",d3.line()).style("fill","none").style("stroke","rgb(0, 125, 164)").style("stroke-dasharray",function(){return 0+","+this.getTotalLength()}).call(transitionStyle);function transitionStyle(path){var l0=0;var l1=path.node().getTotalLength();circle.transition().duration(0).style("visibility","hidden").transition().ease(d3.easeLinear).duration(2e3).styleTween("visibility",visibilityTween);path.transition().duration(0).style("stroke-dasharray",0+","+l1).transition().ease(d3.easeLinear).duration(2e3).styleTween("stroke-dasharray",dashTween(l0,l1)).on("end",function(){snapshot(count,true);setTimeout(function(){transitionStyle(path)},5e3)})}function visibilityTween(d,i){var totalLength=svg.select("path").node().getTotalLength();var myLength=svg.append("path").attr("d",d3.line()(data.slice(0,i+1))).remove().node().getTotalLength();return function(t){return myLength-radius<=t*totalLength?"visible":"hidden"}}function dashTween(l0,l1){return function(){var l=this.getTotalLength(),i=d3.interpolateString(l0+","+l1,l1+","+l);return function(t){snapshot(count++);return i(t)}}}}