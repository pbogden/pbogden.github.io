<!DOCTYPE html>
<meta charset="utf-8">
<title>svg2png</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>

body {
  font-family: sans-serif;
  margin: 0;
  padding: 0;
}

#container {
  position: relative;
  height: 0;
  width: 100%;
  padding-bottom: 52.08%;
}

svg {
  position: absolute;
  top: 0px;
  left: 0px;
}

text {
  pointer-events: none;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
}

#download-link {
  position: absolute;
  top: 0px;
  right: 0px;
}

</style>
<body>
<div id='container'>
  <svg></svg>
  <a id="download-link"></a>
</div>

<script src="../js/d3.min.js"></script>
<script src="d3.svg2png.js"></script>
<script>

var width = 960, height = 500;

var svg = d3.select('svg')
    .attr('viewBox', "0, 0, " + width + ", " + height)
    .attr('preserveAspectRatio', "xMinYMin")
    .attr('font-family', 'sans-serif')
    .attr('font-size', width / 20);

svg.append('rect')
    .attr('x', 0)
    .attr('y', 0)
    .attr('width', width)
    .attr('height', height)
    .attr('fill', '#eee')
    .attr('stroke', 'steelblue')
    .attr('stroke-width', '10')

svg.append('text')
    .attr('x', width / 2)
    .attr('y', height/ 2)
    .attr('text-anchor', 'middle')
    .text('Hello, world!')
  .append('tspan') // Add the trademark
    .attr('font-size', '0.5em')
    .attr('dy', '-1em')
    .text("Â®");

svg.call(d3.svg2png()
    .dWidth( width )
    .dHeight( height ));

</script>
