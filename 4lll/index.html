<!DOCTYPE html>
<meta charset="utf-8">
<title>4LLL</title>
<style>
body, a {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 16px;
    color: #eee;
    background: steelblue;
}
</style>
<script src="//d3js.org/d3.v3.min.js"></script>
<body>
<p>Animated version of <a href="http://edudemic.com/wp-content/uploads/2012/07/changingusa.gif">
http://edudemic.com/wp-content/uploads/2012/07/changingusa.gif</a>.</p>
<p>To change the date, drag from left to right along the image.</p>
<script>

var imgWidth = 1000, imgHeight = 677,      // Image dimensions (don't change these)
    width =  1000, height = 677;           // Dimensions of cropped region

var drag = d3.behavior.drag()
    .on("dragstart",function() { console.log("starting drag"); })
    .on("drag", dragging)
    .on("dragend", function() { console.log("ending drag"); })

var yearScale = d3.scale.linear()
    .domain([0, 96])
    .range([0, width])
    .clamp(true);

var svg = d3.select("body").append('svg')
    .attr('id', 'graphic')
    .attr('viewBox', "0, 0, " + width + ", " + height)
    .attr('preserveAspectRatio', "xMinYMid")
    .call(drag);

var image = svg.append("image")
    .attr("width",  width + "px")
    .attr("height", height + "px")
    .attr("xlink:href", "data/changingusa.gif-0.gif");

function dragging() {
  var year = Math.round( yearScale.invert(d3.mouse(this)[0]) );

  image.attr("xlink:href", "data/changingusa.gif-" + year + ".gif")
}

</script>
